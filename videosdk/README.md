# ğŸ¬ Mtv Video Player SDK (Android)

A modern **Android Video Player SDK** built with **Media3** and **Jetpack Compose**, designed for highâ€‘performance video playback, reels, and feedâ€‘based experiences.

---

## âœ¨ Features

* â–¶ï¸ HLS & DASH playback
* ğŸ” Widevine DRM support
* ğŸ¨ Jetpack Composeâ€“based UI
* ğŸªŸ Pictureâ€‘inâ€‘Picture (PiP)
* ğŸ”³ Fullscreen playback
* ğŸ“ Subtitles (SRT)
* â© Playback speed & quality selection
* IMA ads

---

## ğŸ“¦ Installation

### 1. Add JitPack Repository

In your **projectâ€‘level `settings.gradle` or `build.gradle`**:

```gradle
repositories {
    maven { url "https://jitpack.io" }
}
```

### 2. Add SDK Dependency

```gradle
dependencies {
    implementation "com.github.kamleshmultitv:mtvplayersdk:mobile-1.0.42"
}
```

---

## âš™ï¸ Android Setup (Required)

### Permissions

Add in **AndroidManifest.xml**:

```xml
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
```

### Enable Pictureâ€‘inâ€‘Picture

```xml
<activity
    android:name=".MainActivity"
    android:supportsPictureInPicture="true"
    android:configChanges="screenSize|smallestScreenSize|screenLayout|orientation" />
```

---

## ğŸ¨ Jetpack Compose Setup

```gradle
android {
    buildFeatures {
        compose true
    }
 
}
```

## âš ï¸ Required for IMA Ads support

If you use Ads (IMA), enable core library desugaring in your app level gradle:
```gradle
compileOptions {
coreLibraryDesugaringEnabled true
}

dependencies {
coreLibraryDesugaring "com.android.tools:desugar_jdk_libs:2.0.4"
}

```

---

## ğŸ§© SDK Composable API

```kotlin
@OptIn(UnstableApi::class)
@Composable
fun MtvVideoPlayerSdk(
    contentList: List<PlayerModel>? = null,
    index: Int? = 0,
    pipListener: PipListener? = null,
    onPlayerBack: (Boolean) -> Unit,
    setFullScreen: (Boolean) -> Unit
)
```

---

## ğŸ“¦ PlayerModel

```kotlin
data class PlayerModel(
    val hlsUrl: String? = null,
    val mpdUrl: String? = null,
    val liveUrl: String? = null,
    val drmToken: String? = null,
    val imageUrl: String? = null,
    val title: String? = null,
    val description: String? = null,
    val seasonTitle: String? = null,
    val seasonDescription: String? = null,
    val srt: String? = null,
    val spriteUrl: String? = null,
    val playbackSpeed: Float = 1.0f,
    val selectedSubtitle: String? = null,
    val selectedVideoQuality: Int = 1080,
    val isLive: Boolean = false,
    val adsConfig: AdsConfig? = null,
    val cuePoints: List<CuePoint> = emptyList()
)
```

---

## â–¶ï¸ SDK Usage (Compose)

Use `MtvVideoPlayerSdk` to play videos using a content list with full control over PiP, fullscreen, and navigation.

### Example Usage

```kotlin
MtvVideoPlayerSdk(
    contentList = contentList,
    index = selectedIndex.intValue,
    pipListener = pipListener,
    onPlayerBack = { /* handle back */ },
    setFullScreen = { isFullscreen ->
        // handle fullscreen change
    }
)
```

---

## ğŸªŸ Pictureâ€‘inâ€‘Picture

```kotlin
onEnterPip = {
    activity.enterPictureInPictureMode()
}
```

---

## ğŸ§ª Supported Formats

* HLS (`.m3u8`)
* DASH (`.mpd`)
* MP4
* Widevine DRM streams

---

## âœ… Requirements

* Android API 24+
* Kotlin
* Jetpack Compose
* Media3

---

## ğŸ›¡ï¸ Proguard (app-specific)

```proguard
# App-specific ProGuard rules only

# Keep line numbers for crash reports (optional)
-keepattributes SourceFile,LineNumberTable

# Add app-only rules here if needed

# ================= R8 AUTO-GENERATED MISSING RULES =================
# Generated by Android Gradle Plugin â€“ safe to keep

-dontwarn com.app.videosdk.listener.PipListener
-dontwarn com.app.videosdk.model.PlayerModel
-dontwarn com.app.videosdk.ui.MtvVideoPlayerSdkKt
```

---

## ğŸ¤ Support

* GitHub Issues
* SDK Support Team

---

ğŸš€ **Mtv Video Player SDK** â€“ Built for scalable, highâ€‘performance Android video experiences.
